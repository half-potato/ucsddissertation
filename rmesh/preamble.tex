\usepackage[table,xcdraw]{xcolor}
\usepackage{bbm}
\newcommand{\myparagraph}[1]{ \vspace{3pt}  \noindent {\bf #1}\,\,\,}

%
% --- inline annotations
%
\newcommand{\red}[1]{{\color{red}#1}}
\newcommand{\todo}[1]{{\color{red}#1}}
\newcommand{\TODO}[1]{\textbf{\color{red}[TODO: #1]}}
\newcommand{\jb}[1]{{\color{blue}[Jon: #1]}}
\newcommand{\jk}[1]{{\color{red}[Janne: #1]}}
\newcommand{\gk}[1]{{\color{cyan}[George: #1]}}
\newcommand{\trevor}[1]{{\color{red}[Trevor: #1]}}
\newcommand{\scenename}[1]{\textit{#1}}

% --- disable by uncommenting  
% \renewcommand{\TODO}[1]{}
% \renewcommand{\todo}[1]{#1}

% \newcommand{\acronym}{Radiance Meshes}
% \newcommand{\longnamesingular}{Radiance Mesh}
% \newcommand{\longnameplural}{Radiance Meshes}
% \newcommand{\DT}{DT}

\usepackage{amssymb,amsmath,stackengine}
\newcommand{\stopnabla}{%
  \mathbin{\ooalign{$\nabla$\cr\hidewidth$/$\hidewidth}}%
}

\newcommand{\circumcenter}{\mathbb{O}}
\newcommand{\circumradius}{\mathbb{R}}
\newcommand{\centroid}{\boldsymbol{\mu}}
\newcommand{\ray}{\bold{r}}
\newcommand{\colorc}{\mathbf{c}}
\newcommand{\cgradient}{\nabla \colorc}
\newcommand{\sh}{\mathit{sh}}
\newcommand{\vertex}{\mathbf{v}}

\newcommand\lft{\mathopen{}\left}
\newcommand\rgt{\aftergroup\mathclose\aftergroup{\aftergroup}\right}

\usepackage[export]{adjustbox}

\makeatletter
\@namedef{ver@everyshi.sty}{}
\makeatother
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{spy,calc}

\pgfplotsset{compat=1.16}

\input{zoom}


\usepackage{listings}

% 1. Define Colors
\definecolor{codeblue}{rgb}{0,0,1}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}

% 2. Define HLSL Language (Listings doesn't have it by default)
\lstdefinelanguage{HLSL}{
  morekeywords={float, float2, float3, float4, uint, uint2, uint3, uint4, 
                int, int2, int3, int4, void, bool, matrix, vector, 
                static, const, struct, return, if, else, for, while, do},
  morekeywords=[2]{WaveGetLaneIndex, WaveReadLaneAt, cross, dot, length, max, min, asfloat, asuint}, % Intrinsics
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[b]'
}

% 3. Define the Style to match your Minted look
\lstdefinestyle{iccv_code}{
    language=HLSL,
    basicstyle=\ttfamily\footnotesize, % Matches fontsize=\footnotesize
    commentstyle=\color{codegreen}\itshape,
    keywordstyle=\color{codeblue}\bfseries,
    keywordstyle=[2]\color{codepurple}, % Intrinsics in purple
    numberstyle=\tiny\color{codegray},
    breaklines=true,
    frame=tb,              % "frame=lines" equivalent (top and bottom)
    framerule=1pt,         % Matches framerule=1pt
    rulecolor=\color{black},
    captionpos=t,          % Puts the title/label at the top
    tabsize=4,
    showstringspaces=false
}

\lstset{style=iccv_code}